<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn about this GTM learning project and its goals">
    <title>About - GTM Learning Project</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">

    <!--
        ============================================================================
        STEP 1: Set Default Consent State (BEFORE GTM loads)
        ============================================================================

        CRITICAL: This MUST come BEFORE the GTM script!

        Why? Because GTM needs to know the consent state from the moment it loads.
        By setting everything to 'denied' first, we ensure that no tracking cookies
        are set or personal data collected until the user explicitly consents.

        This is the "default denied" approach required by GDPR and recommended
        by Google for Consent Mode v2.

        What each consent type means:
        - ad_storage: Enables storage (like cookies) for advertising purposes
        - ad_user_data: Enables sending user data to Google for advertising
        - ad_personalization: Enables personalized advertising (e.g., remarketing)
        - analytics_storage: Enables storage for analytics (like cookies)
        - functionality_storage: Enables storage for site functionality
        - personalization_storage: Enables storage for personalization (e.g., video recommendations)
        - security_storage: Usually always granted for security features like fraud prevention

        wait_for_update: Tells GTM to wait up to 500ms for a consent update
        before making decisions. This gives our consent banner time to load.
    -->
    <script>
        // Initialize the dataLayer (GTM's communication channel)
        window.dataLayer = window.dataLayer || [];

        // Define gtag function - this is how we communicate consent to Google
        function gtag(){dataLayer.push(arguments);}

        // Set default consent to DENIED for all types
        // This is the privacy-first approach - no tracking without explicit consent
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'analytics_storage': 'denied',
            'functionality_storage': 'denied',
            'personalization_storage': 'denied',
            'security_storage': 'granted', // Security features are usually always allowed
            'wait_for_update': 500 // Wait 500ms for consent banner to update consent
        });

        console.log('âœ… Consent defaults set to DENIED - GTM will respect privacy until user consents');
    </script>

    <!--
        ============================================================================
        STEP 2: Google Tag Manager Container
        ============================================================================

        NOW we load GTM. Since we've already set the default consent state above,
        GTM knows to operate in "denied" mode until the user grants permission.

        Container ID: GTM-WNS3P8L9

        What this script does:
        1. Creates a dataLayer array (if not already created)
        2. Pushes the GTM start time to dataLayer
        3. Asynchronously loads the GTM library from Google's servers
        4. Inserts the GTM script into the page

        The 'async' flag means GTM loads without blocking the rest of your page.
    -->
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WNS3P8L9');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <!--
        ============================================================================
        STEP 3: GTM Noscript Fallback
        ============================================================================

        This MUST be placed immediately after the opening <body> tag.

        Why? This is a fallback for users who have JavaScript disabled in their browser.
        Without JavaScript, the GTM script above won't run, so this <iframe> provides
        a basic way for GTM to still function (with limited capabilities).

        In practice, most tracking won't work without JavaScript, but this ensures
        GTM can at least register a basic page view.

        The iframe is hidden (display:none, visibility:hidden, 0px dimensions) so
        it doesn't affect your page layout.
    -->
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WNS3P8L9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header & Navigation -->
    <header>
        <div class="header-container">
            <a href="index.html" class="logo">GTM Learning</a>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="products.html">Products</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="privacy.html">Privacy</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <h1>About This Project</h1>

            <section class="card">
                <h2>Purpose</h2>
                <p>
                    This is a hands-on learning project designed to help you master Google Tag Manager
                    through practical implementation. Rather than just reading documentation, you'll
                    build a real website with real tracking scenarios.
                </p>
            </section>

            <section class="card">
                <h2>Learning Approach</h2>
                <p>
                    We're taking a step-by-step approach to learning GTM:
                </p>
                <ol>
                    <li><strong>Start Simple:</strong> Begin with basic page view tracking</li>
                    <li><strong>Build Incrementally:</strong> Add complexity gradually</li>
                    <li><strong>Implement Properly:</strong> Follow best practices from the start</li>
                    <li><strong>Test Everything:</strong> Use GTM's debugging tools to verify</li>
                    <li><strong>Document Learning:</strong> Keep notes on what you discover</li>
                </ol>
            </section>

            <section class="card">
                <h2>Key Concepts You'll Master</h2>

                <h3>1. GTM Container</h3>
                <p>
                    A container is like a "box" that holds all your tags, triggers, and variables.
                    You'll learn how to set up and install a GTM container on your website.
                </p>

                <h3>2. Tags</h3>
                <p>
                    Tags are snippets of code that execute on your website. Common examples include
                    Google Analytics tracking codes, Facebook Pixel, or custom JavaScript. You'll
                    learn how to create and configure different types of tags.
                </p>

                <h3>3. Triggers</h3>
                <p>
                    Triggers define when tags should fire. For example, "fire this tag when a user
                    clicks the submit button" or "fire on every page load." You'll master different
                    trigger types and conditions.
                </p>

                <h3>4. Variables</h3>
                <p>
                    Variables are dynamic values that GTM can capture and use. Examples include the
                    current page URL, the text of a clicked button, or custom data you define. You'll
                    learn built-in variables and how to create custom ones.
                </p>

                <h3>5. dataLayer</h3>
                <p>
                    The dataLayer is a JavaScript array that acts as a communication channel between
                    your website and GTM. You'll learn how to push custom events and data to the
                    dataLayer for GTM to consume.
                </p>

                <h3>6. Consent Mode</h3>
                <p>
                    Google Consent Mode v2 is essential for privacy compliance (GDPR, CCPA, etc.).
                    You'll implement it correctly from the start, ensuring your tracking respects
                    user privacy choices.
                </p>
            </section>

            <section class="card">
                <h2>Why GTM Matters</h2>
                <ul>
                    <li><strong>Marketing Agility:</strong> Add/update tracking without developer involvement</li>
                    <li><strong>Reduced Errors:</strong> Test tags before publishing to production</li>
                    <li><strong>Better Performance:</strong> GTM loads tags asynchronously</li>
                    <li><strong>Version Control:</strong> Roll back changes if something breaks</li>
                    <li><strong>One Interface:</strong> Manage all your tags in a single place</li>
                </ul>
            </section>

            <div class="text-center mt-2">
                <a href="products.html" class="btn">Explore Products Page</a>
                <a href="contact.html" class="btn btn-secondary">Contact Us</a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <ul class="footer-links">
                <li><a href="privacy.html">Privacy Policy</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="https://github.com" target="_blank">GitHub</a></li>
            </ul>
            <p>&copy; 2026 GTM Learning Project. Built for educational purposes.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/dataLayer.js"></script>
    <script src="js/consent.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
